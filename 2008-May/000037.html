<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Tslib-general] omap osk and mistral touchscreen
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tslib-general/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:tslib-general%40lists.berlios.de?Subject=Re%3A%20%5BTslib-general%5D%20omap%20osk%20and%20mistral%20touchscreen&In-Reply-To=%3Ca1d91fa0805191148u1daa0cb8n475747ce7e5bb62a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000036.html">
   <LINK REL="Next"  HREF="000038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Tslib-general] omap osk and mistral touchscreen</H1>
    <B>mohammed shareef</B> 
    <A HREF="mailto:tslib-general%40lists.berlios.de?Subject=Re%3A%20%5BTslib-general%5D%20omap%20osk%20and%20mistral%20touchscreen&In-Reply-To=%3Ca1d91fa0805191148u1daa0cb8n475747ce7e5bb62a%40mail.gmail.com%3E"
       TITLE="[Tslib-general] omap osk and mistral touchscreen">mdshareef at gmail.com
       </A><BR>
    <I>Mon May 19 20:48:13 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000036.html">[Tslib-general] [PATCH] make the event input module work on 32bit	powerpc machines
</A></li>
        <LI>Next message: <A HREF="000038.html">[Tslib-general] touch screen with x-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,

i am working on omap 5912 osk and mistral qvga lcd module.

i have linux 2.6.18 on it. i could configure and run the lcd properly.
But i have no idea how to go ahead with the touchscreen. could anyone
please help me out? i have enabled SPI and ADS743 touchscreen driver
during the kernel configuration. But i dont know what to do next.

this is my boot log:


U-Boot 1.1.1 (Aug  4 2005 - 10:41:25)

U-Boot code: 11080000 -&gt; 11095DD4  BSS: -&gt; 1109A5A4
RAM Configuration:
Bank #0: 10000000 32 MB
Micron StrataFlash MT28F128J3 device initialized
Flash: 32 MB
In:    serial
Out:   serial
Err:   serial
Hit any key to stop autoboot: 10 \0x08\0x08\0x08 9 \0x08\0x08\0x08 8
\0x08\0x08\0x08 7 \0x08\0x08\0x08 6 \0x08\0x08\0x08 5 \0x08\0x08\0x08
4 \0x08\0x08\0x08 3 \0x08\0x08\0x08 2 \0x08\0x08\0x08 1
\0x08\0x08\0x08 0
## Booting image at 00100000 ...
   Image Name:   Linux Kernel Image
   Image Type:   ARM Linux Kernel Image (gzip compressed)
   Data Size:    1204069 Bytes =  1.1 MB
   Load Address: 10c08000
   Entry Point:  10c08000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Uncompressing Linux................................................................................
done, booting the kernel.
Linux version 2.6.18-omap1 (<A HREF="https://lists.berlios.de/mailman/listinfo/tslib-general">root at localhost.localdomain</A>) (gcc version
3.4.1) #1 Mon May 19 18:48:02 IST 2008
CPU: ARM926EJ-S [41069263] revision 3 (ARMv5TEJ), cr=00053177
Machine: TI-OSK
Memory policy: ECC disabled, Data cache writeback
OMAP162123 revision 2 handled as 16xx id: 350594085990091f
SRAM: Mapped pa 0x20000000 to va 0xd0000000 size: 0x100000
CPU0: D VIVT write-back cache
CPU0: I cache: 16384 bytes, associativity 4, 32 byte lines, 128 sets
CPU0: D cache: 8192 bytes, associativity 4, 32 byte lines, 64 sets
Built 1 zonelists.  Total pages: 8192
Kernel command line: console=ttyS0,115200n8 noinitrd
ip=10.114.4.1:10.114.5.48:10.114.12.1:255.255.0.0:osk:eth0:off
root=/dev/nfs rw nfsroot=10.114.5.48:/data/rootfs2.6,nolock mem=32M
Clocks: ARM_SYSST: 0x1000 DPLL_CTL: 0x2833 ARM_CKCTL: 0x3000
Clocking rate (xtal/DPLL1/MPU): 12.0/192.0/192.0 MHz
Total of 128 interrupts in 4 interrupt banks
OMAP GPIO hardware version 1.0
MUX: initialized M7_1610_GPIO62
PID hash table entries: 256 (order: 8, 1024 bytes)
Console: colour dummy device 80x30
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 32MB = 32MB total
Memory: 29860KB available (1996K code, 440K data, 112K init)
Mount-cache hash table entries: 512
CPU: Testing write buffer coherency: ok
NET: Registered protocol family 16
MUX: initialized P20_1610_GPIO4
OMAP DMA hardware version 1
DMA capabilities: 000c0000:00000000:01ff:003f:007f
Initializing OMAP McBSP system
omap_dsp_init() done
USB: hmc 16, usb0 2 wires
i2c_omap i2c_omap.1: bus 0 rev2.2 at 100 kHz
tps65010: version 2 May 2005
No IRQF_TRIGGER set_type function for IRQ 353 (MPUIO)
MUX: initialized N14_1610_UWIRE_CS0
MUX: initialized P15_1610_UWIRE_CS3
NET: Registered protocol family 2
IP route cache hash table entries: 256 (order: -2, 1024 bytes)
TCP established hash table entries: 1024 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 1024 bind 512)
TCP reno registered
Power Management for TI OMAP.
MUX: initialized T20_1610_LOW_PWR
NetWinder Floating Point Emulator V0.97 (double precision)
OMAP OCPI interconnect driver loaded
JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler anticipatory registered
io scheduler deadline registered
io scheduler cfq registered (default)
omapfb: configured for panel osk
omapfb: LCDC initialized
omapfb omapfb: Pixel clock divider value is obsolete.
Try to set pixel_clock to 8000 and pcd to 0 in
drivers/video/omap/lcd_osk.c and submit a patch.
MUX: initialized PWL
Console: switching to colour frame buffer device 30x40
omapfb: Framebuffer initialized. Total vram 155648 planes 1
omapfb: Pixclock 8000 kHz hfreq 20.1 kHz vfreq 63.3 Hz
Serial: 8250/16550 driver $Revision: 1.90 $ 4 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0xfffb0000 (irq = 46) is a ST16654
RAMDISK driver initialized: 16 RAM disks of 8192K size 1024 blocksize
loop: loaded (max 8 devices)
PPP generic driver version 2.4.2
smc91x.c: v1.1, sep 22 2004 by Nicolas Pitre &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/tslib-general">nico at cam.org</A>&gt;
eth0: SMC91C94 (rev 9) at c2850300 IRQ 160 [nowait]
eth0: Ethernet addr: 00:0e:99:02:0d:60
i2c /dev entries driver
omapflash.0: Found 1 x16 devices at 0x0 in 16-bit bank
omapflash.0: Found 1 x16 devices at 0x1000000 in 16-bit bank
 Intel/Sharp Extended Query Table at 0x0031
Using buffer write method
cfi_cmdset_0001: Erase suspend on write enabled
Creating 4 MTD partitions on &quot;omapflash.0&quot;:
0x00000000-0x00020000 : &quot;bootloader&quot;
0x00020000-0x00040000 : &quot;params&quot;
0x00040000-0x00240000 : &quot;kernel&quot;
0x00240000-0x02000000 : &quot;filesystem&quot;
TI TSC2102 driver initializing
MUX: initialized W11_1610_CF_CD1
MUX: initialized P11_1610_CF_CD2
MUX: initialized R11_1610_CF_IOIS16
MUX: initialized V10_1610_CF_IREQ
MUX: initialized W10_1610_CF_RESET
omap_cf: cs2 on irq 222
mice: PS/2 mouse device common for all mice
OMAP Keypad Driver
input: omap-keypad as /class/input/input0
TCP bic registered
NET: Registered protocol family 1
Disabling unused clock &quot;usb_dc_ck&quot;...  done
FIXME: Clock &quot;tc2_ck&quot; seems unused
Disabling unused clock &quot;tc1_ck&quot;...  done
Skipping reset check for DSP domain clock &quot;dsptim_ck&quot;
Skipping reset check for DSP domain clock &quot;dspxor_ck&quot;
Skipping reset check for DSP domain clock &quot;dspper_ck&quot;
eth0: link up
IP-Config: Complete:
      device=eth0, addr=10.114.4.1, mask=255.255.0.0, gw=10.114.12.1,
     host=osk, domain=, nis-domain=(none),
     bootserver=10.114.5.48, rootserver=10.114.5.48, rootpath=
Looking up port of RPC 100003/2 on 10.114.5.48
Looking up port of RPC 100005/1 on 10.114.5.48
VFS: Mounted root (nfs filesystem).
Freeing init memory: 112K
init started:  BusyBox v1.00-pre8 (2004.03.05-22:18+0000) multi-call binary

******************************************
Starting System Init for OMAP5912OSK
******************************************

Please press Enter to activate this console.

thanx and regards,
Shareef

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000036.html">[Tslib-general] [PATCH] make the event input module work on 32bit	powerpc machines
</A></li>
	<LI>Next message: <A HREF="000038.html">[Tslib-general] touch screen with x-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tslib-general">More information about the Tslib-general
mailing list</a><br>
</body></html>
